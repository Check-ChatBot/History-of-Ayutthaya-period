<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>History of Ayutthaya period</title>
  <link rel="icon" type="image/png" sizes="16x16" href="logo.png"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(135deg, #fceabb, #f8b500);
      font-family: "Prompt", sans-serif;
      padding: 30px;
    }
    .quiz-box {
      background: #fff;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.25);
      max-width: 900px;
      margin: auto;
      animation: fadeIn 0.6s ease;
    }
    .question {
      font-size: 1.3rem;
      font-weight: bold;
      margin-bottom: 20px;
    }
    .option {
      background: #f7f7f7;
      border: 2px solid transparent;
      border-radius: 12px;
      padding: 12px;
      margin-bottom: 12px;
      cursor: pointer;
      transition: 0.3s;
      animation: fadeIn 0.5s ease;
    }
    
    .option:hover { background: #e9ecef; transform: scale(1.02); }
    .option.correct { border-color: green; background: #d4edda; animation: pulse 0.5s; }
    .option.wrong { border-color: red; background: #f8d7da; animation: shake 0.4s; }
    .progress { height: 20px; margin-bottom: 20px; }
    .timer { font-size: 1.2rem; font-weight: bold; color: #d63384; }
    @keyframes fadeIn { from {opacity: 0; transform: translateY(20px);} to {opacity: 1; transform: translateY(0);} }
    @keyframes pulse { 0%{transform:scale(1);}50%{transform:scale(1.1);}100%{transform:scale(1);} }
    @keyframes shake { 0%{transform:translateX(0);}25%{transform:translateX(-5px);}50%{transform:translateX(5px);}75%{transform:translateX(-5px);}100%{transform:translateX(0);} }
    table th, table td { text-align:center; vertical-align: middle; }
    
    body {
  font-family: 'Prompt', sans-serif;
}

.fancy-btn {
  background: linear-gradient(45deg, #f7971e, #ffd200);
  border: none;
  border-radius: 30px;
  padding: 12px 24px;
  font-size: 1.05rem;
  font-weight: 600;
  color: #fff !important;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  transition: all 0.3s ease-in-out;
  display: inline-block;
  text-decoration: none;
}

.fancy-btn:hover {
  transform: translateY(-3px) scale(1.05);
  box-shadow: 0 6px 20px rgba(0,0,0,0.3);
  background: linear-gradient(45deg, #ffd200, #f7971e);
  color: #fff;
}

.fancy-btn:active {
  transform: scale(0.95);
  box-shadow: none;
}

  </style>
</head>
<body>

<div class="quiz-box">
  <h2 class="text-center mb-4">üìù‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö : ‡∏ö‡∏ó‡∏ó‡∏µ‡πà 5 ‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤‡∏™‡∏°‡∏±‡∏¢‡∏Å‡∏£‡∏∏‡∏á‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤</h2>

  <!-- Progress -->
  <div class="d-flex justify-content-between mb-2">
    <div>‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà <span id="currentQ">1</span>/<span id="totalQ"></span></div>
    <div class="timer">‚è≥ <span id="timeLeft">15</span>s</div>
  </div>
  <div class="progress">
    <div id="progressBar" class="progress-bar bg-success" role="progressbar" style="width: 0%"></div>
  </div>

  <!-- ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° -->
  <div id="quizContainer"></div>

  <!-- ‡∏õ‡∏∏‡πà‡∏° -->
  <div class="mt-3 text-center">
    <button id="nextBtn" class="btn btn-primary" disabled>‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚û°</button>
  </div>

  <!-- ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå -->
  <div class="mt-4" id="resultBox" style="display:none;"></div>

<script>
const questions = [
  { question: "‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏Å‡∏£‡∏∏‡∏á‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤‡πÉ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡πÅ‡∏£‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?", options: ["‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏©‡∏ï‡∏£", "‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°", "‡∏Å‡∏≤‡∏£‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß", "‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏á‡πÅ‡∏£‡πà"], answer: "‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏©‡∏ï‡∏£" },
  { question: "‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏Å‡∏£‡∏∏‡∏á‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤ ‡πÑ‡∏î‡πâ‡πÅ‡∏Å‡πà‡∏Ç‡πâ‡∏≠‡πÉ‡∏î?", options: ["‡∏Ç‡πâ‡∏≤‡∏ß ‡πÑ‡∏°‡πâ‡∏™‡∏±‡∏Å ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏®", "‡πÄ‡∏´‡∏•‡πá‡∏Å ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏î‡∏¥‡∏ö ‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥", "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£‡∏Å‡∏• ‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò ‡∏õ‡∏π‡∏ô‡∏ã‡∏µ‡πÄ‡∏°‡∏ô‡∏ï‡πå", "‡∏™‡∏ö‡∏π‡πà ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏• ‡∏≠‡πâ‡∏≠‡∏¢"], answer: "‡∏Ç‡πâ‡∏≤‡∏ß ‡πÑ‡∏°‡πâ‡∏™‡∏±‡∏Å ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏®" },
  { question: "‡πÄ‡∏´‡∏ï‡∏∏‡πÉ‡∏î‡∏Å‡∏£‡∏∏‡∏á‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤‡∏à‡∏∂‡∏á‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡∏£‡∏∏‡πà‡∏á‡πÄ‡∏£‡∏∑‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤?", options: ["‡∏°‡∏µ‡∏†‡∏π‡πÄ‡∏Ç‡∏≤‡∏™‡∏π‡∏á‡∏õ‡∏Å‡∏Ñ‡∏•‡∏∏‡∏°", "‡∏ï‡∏±‡πâ‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏•‡∏∏‡πà‡∏°‡πÅ‡∏°‡πà‡∏ô‡πâ‡∏≥ ‡πÄ‡∏à‡πâ‡∏≤‡∏û‡∏£‡∏∞‡∏¢‡∏≤ ‡∏õ‡πà‡∏≤‡∏™‡∏±‡∏Å ‡πÅ‡∏•‡∏∞‡∏•‡∏û‡∏ö‡∏∏‡∏£‡∏µ", "‡∏°‡∏µ‡∏ä‡∏≤‡∏¢‡∏ù‡∏±‡πà‡∏á‡∏ó‡∏∞‡πÄ‡∏•‡∏¢‡∏≤‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡πÄ‡∏≠‡πÄ‡∏ä‡∏µ‡∏¢", "‡∏°‡∏µ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å"], answer: "‡∏ï‡∏±‡πâ‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏•‡∏∏‡πà‡∏°‡πÅ‡∏°‡πà‡∏ô‡πâ‡∏≥ ‡πÄ‡∏à‡πâ‡∏≤‡∏û‡∏£‡∏∞‡∏¢‡∏≤ ‡∏õ‡πà‡∏≤‡∏™‡∏±‡∏Å ‡πÅ‡∏•‡∏∞‡∏•‡∏û‡∏ö‡∏∏‡∏£‡∏µ" },
  { question: "‡πÉ‡∏ô‡∏™‡∏°‡∏±‡∏¢‡∏™‡∏°‡πÄ‡∏î‡πá‡∏à‡∏û‡∏£‡∏∞‡∏ô‡∏≤‡∏£‡∏≤‡∏¢‡∏ì‡πå‡∏°‡∏´‡∏≤‡∏£‡∏≤‡∏ä ‡∏Å‡∏£‡∏∏‡∏á‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÉ‡∏î‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?", options: ["‡∏à‡∏µ‡∏ô", "‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™", "‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô", "‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©"], answer: "‡∏à‡∏µ‡∏ô" },
  { question: "‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏Ç‡∏≠‡∏á‡∏£‡∏±‡∏ê‡πÉ‡∏ô‡∏™‡∏°‡∏±‡∏¢‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏≠‡∏∞‡πÑ‡∏£?", options: ["‡∏†‡∏≤‡∏©‡∏µ‡∏≠‡∏≤‡∏Å‡∏£", "‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏™‡∏•‡∏≤‡∏Å‡∏Å‡∏¥‡∏ô‡πÅ‡∏ö‡πà‡∏á", "‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô", "‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡πà‡∏≤‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏≤‡∏á‡∏ö‡∏Å"], answer: "‡∏†‡∏≤‡∏©‡∏µ‡∏≠‡∏≤‡∏Å‡∏£" }
];

let current = 0;
let score = 0;
let timer;
let timeLimit = 15;
let userAnswers = [];

document.getElementById("totalQ").innerText = questions.length;

function startTimer() {
  let time = timeLimit;
  document.getElementById("timeLeft").innerText = time;
  timer = setInterval(() => {
    time--;
    document.getElementById("timeLeft").innerText = time;
    if (time <= 0) {
      clearInterval(timer);
      lockOptions();
      document.getElementById("nextBtn").disabled = false;
    }
  }, 1000);
}

function showQuestion(index) {
  clearInterval(timer);
  startTimer();

  document.getElementById("currentQ").innerText = index+1;
  document.getElementById("progressBar").style.width = ((index)/questions.length*100)+"%";

  const q = questions[index];
  let html = `<p class="question">${q.question}</p>`;
  q.options.forEach(opt => {
    html += `<div class="option" onclick="selectOption(this, '${opt}')">${opt}</div>`;
  });
  document.getElementById("quizContainer").innerHTML = html;
  document.getElementById("nextBtn").disabled = true;
}

function selectOption(el, answer) {
  const q = questions[current];
  const options = document.querySelectorAll(".option");
  options.forEach(opt => opt.onclick = null); // disable clicks

  userAnswers[current] = answer;

  if (answer === q.answer) {
    el.classList.add("correct");
    score++;
  } else {
    el.classList.add("wrong");
    options.forEach(opt => {
      if (opt.innerText === q.answer) opt.classList.add("correct");
    });
  }
  clearInterval(timer);
  document.getElementById("nextBtn").disabled = false;
}

function lockOptions() {
  const q = questions[current];
  const options = document.querySelectorAll(".option");
  options.forEach(opt => {
    opt.onclick = null;
    if (opt.innerText === q.answer) opt.classList.add("correct");
  });
}

document.getElementById("nextBtn").addEventListener("click", () => {
  if (current < questions.length-1) {
    current++;
    showQuestion(current);
  } else {
    showResult();
  }
});

function showResult() {
  document.getElementById("quizContainer").style.display = "none";
  document.getElementById("nextBtn").style.display = "none";
  document.querySelector(".progress").style.display = "none";
  document.querySelector(".timer").style.display = "none";

      const username = localStorage.getItem("username") || "‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏";

  let resultHTML = `
    <div class="card shadow-lg p-4">
      <h3 class="text-center text-success">üéâ ‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!</h3>
      <p class="text-center">‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö: <strong>${username}</strong></p>
      <p class="text-center">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: 
        <strong class="text-primary" style="font-size: 1.5rem;">
          ${score}/${questions.length}
        </strong>
      </p>

      <table class="table table-striped table-bordered mt-4">
        <thead class="thead-dark">
          <tr>
            <th scope="col">‡∏Ç‡πâ‡∏≠</th>
            <th scope="col">‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°</th>
            <th scope="col">‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</th>
          </tr>
        </thead>
        <tbody>`;

  questions.forEach((q, i) => {
    const userAns = userAnswers[i] || "-";
    const isCorrect = userAns === q.answer;
    const rowClass = isCorrect ? "table-success" : "table-danger";

    resultHTML += `
      <tr class="${rowClass}">
        <td>${i + 1}</td>
        <td>${q.question}</td>
        <td>${userAns}</td>
      </tr>`;
  });

    resultHTML += `
        </tbody>
      </table>

      <div class="text-center mt-4">
  <button class="btn fancy-btn mr-2" onclick="location.reload()">üîÅ ‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà</button>
  <a href="Main.html" class="btn fancy-btn mr-2">üè† ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å</a>
  <a href="learning.html" class="btn fancy-btn">‚û°Ô∏è ‡πÑ‡∏õ‡∏ö‡∏ó‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</a>
</div>`;

  document.getElementById("resultBox").innerHTML = resultHTML;
  document.getElementById("resultBox").style.display = "block";
}

document.addEventListener("DOMContentLoaded", function() {
  showQuestion(current);
});
</script>
</body>
</html>