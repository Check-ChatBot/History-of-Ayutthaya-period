<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>History of Ayutthaya period</title>
  <link rel="icon" type="image/png" sizes="16x16" href="logo.png"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(135deg, #fceabb, #f8b500);
      font-family: "Prompt", sans-serif;
      padding: 30px;
    }
    .quiz-box {
      background: #fff;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.25);
      max-width: 900px;
      margin: auto;
      animation: fadeIn 0.6s ease;
    }
    .question {
      font-size: 1.3rem;
      font-weight: bold;
      margin-bottom: 20px;
    }
    .option {
      background: #f7f7f7;
      border: 2px solid transparent;
      border-radius: 12px;
      padding: 12px;
      margin-bottom: 12px;
      cursor: pointer;
      transition: 0.3s;
      animation: fadeIn 0.5s ease;
    }
    
    .option:hover { background: #e9ecef; transform: scale(1.02); }
    .option.correct { border-color: green; background: #d4edda; animation: pulse 0.5s; }
    .option.wrong { border-color: red; background: #f8d7da; animation: shake 0.4s; }
    .progress { height: 20px; margin-bottom: 20px; }
    .timer { font-size: 1.2rem; font-weight: bold; color: #d63384; }
    @keyframes fadeIn { from {opacity: 0; transform: translateY(20px);} to {opacity: 1; transform: translateY(0);} }
    @keyframes pulse { 0%{transform:scale(1);}50%{transform:scale(1.1);}100%{transform:scale(1);} }
    @keyframes shake { 0%{transform:translateX(0);}25%{transform:translateX(-5px);}50%{transform:translateX(5px);}75%{transform:translateX(-5px);}100%{transform:translateX(0);} }
    table th, table td { text-align:center; vertical-align: middle; }
    
    body {
  font-family: 'Prompt', sans-serif;
}

.fancy-btn {
  background: linear-gradient(45deg, #f7971e, #ffd200);
  border: none;
  border-radius: 30px;
  padding: 12px 24px;
  font-size: 1.05rem;
  font-weight: 600;
  color: #fff !important;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  transition: all 0.3s ease-in-out;
  display: inline-block;
  text-decoration: none;
}

.fancy-btn:hover {
  transform: translateY(-3px) scale(1.05);
  box-shadow: 0 6px 20px rgba(0,0,0,0.3);
  background: linear-gradient(45deg, #ffd200, #f7971e);
  color: #fff;
}

.fancy-btn:active {
  transform: scale(0.95);
  box-shadow: none;
}

  </style>
</head>
<body>

<div class="quiz-box">
  <h2 class="text-center mb-4">üìù‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö : ‡∏ö‡∏ó‡∏ó‡∏µ‡πà 3 ‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡∏™‡∏°‡∏±‡∏¢‡∏Å‡∏£‡∏∏‡∏á‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤</h2>

  <!-- Progress -->
  <div class="d-flex justify-content-between mb-2">
    <div>‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà <span id="currentQ">1</span>/<span id="totalQ"></span></div>
    <div class="timer">‚è≥ <span id="timeLeft">15</span>s</div>
  </div>
  <div class="progress">
    <div id="progressBar" class="progress-bar bg-success" role="progressbar" style="width: 0%"></div>
  </div>

  <!-- ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° -->
  <div id="quizContainer"></div>

  <!-- ‡∏õ‡∏∏‡πà‡∏° -->
  <div class="mt-3 text-center">
    <button id="nextBtn" class="btn btn-primary" disabled>‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚û°</button>
  </div>

  <!-- ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå -->
  <div class="mt-4" id="resultBox" style="display:none;"></div>

<script>
const questions = [
  { question: "‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡πÉ‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡πÄ‡∏î‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡∏™‡∏°‡∏±‡∏¢‡∏Å‡∏£‡∏∏‡∏á‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤?", options: ["‡πÄ‡∏à‡∏î‡∏µ‡∏¢‡πå‡∏ó‡∏£‡∏á‡∏•‡∏±‡∏á‡∏Å‡∏≤", "‡∏û‡∏£‡∏∞‡∏õ‡∏£‡∏≤‡∏á‡∏Ñ‡πå‡∏ó‡∏£‡∏á‡∏Ç‡∏≠‡∏°", "‡∏ß‡∏¥‡∏´‡∏≤‡∏£‡πÑ‡∏°‡πâ‡πÑ‡∏ú‡πà", "‡∏™‡∏ñ‡∏π‡∏õ‡∏Å‡∏•‡∏°‡πÅ‡∏ö‡∏ö‡∏™‡∏∏‡πÇ‡∏Ç‡∏ó‡∏±‡∏¢"], answer: "‡∏û‡∏£‡∏∞‡∏õ‡∏£‡∏≤‡∏á‡∏Ñ‡πå‡∏ó‡∏£‡∏á‡∏Ç‡∏≠‡∏°" },
  { question: "‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏ï‡∏¥‡∏°‡∏≤‡∏Å‡∏£‡∏£‡∏°‡∏™‡∏°‡∏±‡∏¢‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡πÉ‡∏î?", options: ["‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏£‡∏∑‡∏≠‡∏ô", "‡∏Å‡∏≤‡∏£‡∏ö‡∏π‡∏ä‡∏≤‡∏ó‡∏≤‡∏á‡∏®‡∏≤‡∏™‡∏ô‡∏≤", "‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡∏£‡πà‡∏ß‡∏°‡∏™‡∏°‡∏±‡∏¢", "‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏á‡∏≤‡∏ô‡∏û‡∏¥‡∏ò‡∏µ‡πÅ‡∏ï‡πà‡∏á‡∏á‡∏≤‡∏ô"], answer: "‡∏Å‡∏≤‡∏£‡∏ö‡∏π‡∏ä‡∏≤‡∏ó‡∏≤‡∏á‡∏®‡∏≤‡∏™‡∏ô‡∏≤" },
  { question: "‡∏®‡∏¥‡∏•‡∏õ‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏≠‡∏Å‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤‡∏ï‡∏≠‡∏ô‡∏õ‡∏•‡∏≤‡∏¢‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?", options: ["‡∏û‡∏£‡∏∞‡∏û‡∏∏‡∏ó‡∏ò‡∏£‡∏π‡∏õ‡∏®‡∏¥‡∏•‡∏≤‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏∏‡∏õ‡∏ï‡∏∞", "‡∏û‡∏£‡∏∞‡∏û‡∏∏‡∏ó‡∏ò‡∏£‡∏π‡∏õ‡∏ó‡∏£‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á", "‡∏£‡∏π‡∏õ‡∏õ‡∏±‡πâ‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏´‡∏¥‡∏°‡∏û‡∏≤‡∏ô‡∏ï‡πå", "‡∏†‡∏≤‡∏û‡∏à‡∏¥‡∏ï‡∏£‡∏Å‡∏£‡∏£‡∏°‡∏ù‡∏≤‡∏ú‡∏ô‡∏±‡∏á‡πÅ‡∏ö‡∏ö‡∏•‡πâ‡∏≤‡∏ô‡∏ô‡∏≤"], answer: "‡∏û‡∏£‡∏∞‡∏û‡∏∏‡∏ó‡∏ò‡∏£‡∏π‡∏õ‡∏ó‡∏£‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á" },
  { question: "‡∏ß‡∏£‡∏£‡∏ì‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô‡∏™‡∏°‡∏±‡∏¢‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤ ‡πÑ‡∏î‡πâ‡πÅ‡∏Å‡πà‡∏Ç‡πâ‡∏≠‡πÉ‡∏î?", options: ["‡∏û‡∏£‡∏∞‡∏≠‡∏†‡∏±‡∏¢‡∏°‡∏ì‡∏µ", "‡∏•‡∏¥‡∏•‡∏¥‡∏ï‡πÇ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡πà‡∏á‡∏ô‡πç‡πâ‡∏≤", "‡∏£‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡πå (‡∏£‡∏±‡∏ä‡∏Å‡∏≤‡∏•‡∏ó‡∏µ‡πà 1)", "‡∏•‡∏¥‡∏•‡∏¥‡∏ï‡∏û‡∏£‡∏∞‡∏•‡∏≠"], answer: "‡∏•‡∏¥‡∏•‡∏¥‡∏ï‡πÇ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡πà‡∏á‡∏ô‡πç‡πâ‡∏≤" },
  { question: "‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ô‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Å‡∏±‡∏ö‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç?", options: ["‡∏†‡∏π‡∏°‡∏¥‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÅ‡∏•‡∏∞‡∏ê‡∏≤‡∏ô‡∏∞‡∏ó‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏°", "‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô‡∏à‡∏≤‡∏Å‡∏¢‡∏∏‡πÇ‡∏£‡∏õ", "‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ", "‡∏≠‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏•‡∏à‡∏≤‡∏Å‡∏≠‡πÄ‡∏°‡∏£‡∏¥‡∏Å‡∏≤"], answer: "‡∏†‡∏π‡∏°‡∏¥‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÅ‡∏•‡∏∞‡∏ê‡∏≤‡∏ô‡∏∞‡∏ó‡∏≤‡∏á‡∏™‡∏±‡∏á‡∏Ñ‡∏°" }
];

let current = 0;
let score = 0;
let timer;
let timeLimit = 15;
let userAnswers = [];

document.getElementById("totalQ").innerText = questions.length;

function startTimer() {
  let time = timeLimit;
  document.getElementById("timeLeft").innerText = time;
  timer = setInterval(() => {
    time--;
    document.getElementById("timeLeft").innerText = time;
    if (time <= 0) {
      clearInterval(timer);
      lockOptions();
      document.getElementById("nextBtn").disabled = false;
    }
  }, 1000);
}

function showQuestion(index) {
  clearInterval(timer);
  startTimer();

  document.getElementById("currentQ").innerText = index+1;
  document.getElementById("progressBar").style.width = ((index)/questions.length*100)+"%";

  const q = questions[index];
  let html = `<p class="question">${q.question}</p>`;
  q.options.forEach(opt => {
    html += `<div class="option" onclick="selectOption(this, '${opt}')">${opt}</div>`;
  });
  document.getElementById("quizContainer").innerHTML = html;
  document.getElementById("nextBtn").disabled = true;
}

function selectOption(el, answer) {
  const q = questions[current];
  const options = document.querySelectorAll(".option");
  options.forEach(opt => opt.onclick = null); // disable clicks

  userAnswers[current] = answer;

  if (answer === q.answer) {
    el.classList.add("correct");
    score++;
  } else {
    el.classList.add("wrong");
    options.forEach(opt => {
      if (opt.innerText === q.answer) opt.classList.add("correct");
    });
  }
  clearInterval(timer);
  document.getElementById("nextBtn").disabled = false;
}

function lockOptions() {
  const q = questions[current];
  const options = document.querySelectorAll(".option");
  options.forEach(opt => {
    opt.onclick = null;
    if (opt.innerText === q.answer) opt.classList.add("correct");
  });
}

document.getElementById("nextBtn").addEventListener("click", () => {
  if (current < questions.length-1) {
    current++;
    showQuestion(current);
  } else {
    showResult();
  }
});

function showResult() {
  document.getElementById("quizContainer").style.display = "none";
  document.getElementById("nextBtn").style.display = "none";
  document.querySelector(".progress").style.display = "none";
  document.querySelector(".timer").style.display = "none";

      const username = localStorage.getItem("username") || "‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏";

  let resultHTML = `
    <div class="card shadow-lg p-4">
      <h3 class="text-center text-success">üéâ ‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!</h3>
      <p class="text-center">‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö: <strong>${username}</strong></p>
      <p class="text-center">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: 
        <strong class="text-primary" style="font-size: 1.5rem;">
          ${score}/${questions.length}
        </strong>
      </p>
      <table class="table table-striped table-bordered mt-4">
        <thead class="thead-dark">
          <tr>
            <th scope="col">‡∏Ç‡πâ‡∏≠</th>
            <th scope="col">‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°</th>
            <th scope="col">‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</th>
          </tr>
        </thead>
        <tbody>`;

  questions.forEach((q, i) => {
    const userAns = userAnswers[i] || "-";
    const isCorrect = userAns === q.answer;
    const rowClass = isCorrect ? "table-success" : "table-danger";

    resultHTML += `
      <tr class="${rowClass}">
        <td>${i + 1}</td>
        <td>${q.question}</td>
        <td>${userAns}</td>
      </tr>`;
  });

    resultHTML += `
        </tbody>
      </table>

      <div class="text-center mt-4">
  <button class="btn fancy-btn mr-2" onclick="location.reload()">üîÅ ‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà</button>
  <a href="index.html" class="btn fancy-btn mr-2">üè† ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å</a>
  <a href="learning.html" class="btn fancy-btn">‚û°Ô∏è ‡πÑ‡∏õ‡∏ö‡∏ó‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</a>
</div>`;

  document.getElementById("resultBox").innerHTML = resultHTML;
  document.getElementById("resultBox").style.display = "block";
}

document.addEventListener("DOMContentLoaded", function() {
  showQuestion(current);
});
</script>
</body>
</html>